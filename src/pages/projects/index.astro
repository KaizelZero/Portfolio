---
export const prerender = true

import Button from '@/components/Button.astro'
import ProjectPreview from '@/components/project/ProjectPreview.astro'
import PageLayout from '@/layouts/BaseLayout.astro'

import { getAllProjects } from '@/utils'

const projects = await getAllProjects()

const meta = {
  description: 'Projects',
  title: 'Projects'
}
---

<PageLayout meta={meta}>
  <div class='w-full'>
    <Button title='Back' href='/' style='button'>
      <svg
        xmlns='http://www.w3.org/2000/svg'
        width='14'
        height='14'
        viewBox='0 0 24 24'
        slot='icon-before'
      >
        <path
          fill='currentColor'
          d='m6.921 12.5l5.792 5.792L12 19l-7-7l7-7l.713.708L6.921 11.5H19v1z'
        >
        </path>
      </svg>
    </Button>

    <h1 class='mb-6 mt-5 text-2xl font-bold'>Projects</h1>
    {projects.length === 0 && <p>No projects yet.</p>}

    {
      projects.length > 0 && (
        <div class='grid w-full gap-3 md:grid-cols-2 lg:grid-cols-3'>
          {projects.map((project) => (
            <ProjectPreview project={project} />
          ))}
        </div>
      )
    }
  </div>
</PageLayout>
